---
description: セーフティステーキングプールの概要

---

# セーフティモジュール

システム補強となるセーフティプールにDYDXをステーキングするユーザーには、初回のトークン提供額\（`2,500万DYDX`\）の`2.50％`が分配されます。

**目的**

* プロトコルの債務超過やその他の問題において活用できる分散型資金を立ち上げる。
* DYDX保有者による適切な管理を促進する：DYDX保有者は、最終的な後ろ盾として希釈化の事態のリスクを担い、システムのリスク管理者として行動します。

セーフティモジュールにステーキングされたDYDXにより、提案や採決の権限を有するだけでなく、委任もできるようになります。

ステーキングを開始するには[**dydx.community/dashboard/pools/safety**](https://dydx.community/dashboard/pools/safety)\*\*\*\*からアクセスしてください

## 概要

プロトコルの立ち上げ以来、ユーザーの安全および保護が重要事項になっています。そのため、DYDXはセーフティプールにDYDXをステーキングするユーザーに対して提供され、プロトコルのユーザー用に追加のセーフティネットを作成します。ステーカーは、プール内にある合計USDC保有高の各ステーカーの保有割合に従って継続的に提供されるDYDXを受け取ります。

セーフティプールは、DYDXが2021年9月8日午後3時（UTC）に振替可能になると稼働します。

## 出金

ステーカーはエポックの終了後に出金できるように、エポック終了の少なくとも`14日`**\（ブラックアウトウィンドウ\）**前までに出金をリクエストする必要があります。ステーカーが出金をリクエストしない場合、ステーキングされたDYDXは次のエポックにロールオーバーされます。

## リスク

ショートフォールが生じると、ステーキングされたDYDXがスラッシュされる可能性があります。DYDXガバナンスの判断によりスラッシュが発生し、実行にはガバナンスの採決が求められます。

基礎となるスマートコントラクトコードに脆弱性が存在する場合、あらゆるDeFiプロトコルの参加者と同様に、セーフティモジュールのステーカーはスマートコントラクトのリスクにさらされます。DYDXおよびガバナンスのスマートコントラクトはすべて監査され、厳密に検証されています。

## ショートフォールイベント

ショートフォールイベントの発生に関する解釈は、dYdXのガバナンス採決の対象となり、以下の場合が挙げられます。

* 取引のソルベンシー\（採算の取れない債務返済のため取引が無担保化になるなど\）
* スマートコントラクト攻撃
* ショートフォールが生じているとdYdXガバナンスが判断するその他の事象

ショートフォールの事象では、トークン保有者の残高をスラッシュして、別のアドレスまたはコントラクトに移行することができます\（ケースバイケースでdYdXガバナンスにより設定されます\）。ステーキングされたトークンをスラッシュするには、dYdXガバナンスが短いタイムロックの提案を可決する必要があります。ステーキングされたDYDXトークンのスラッシュに関するガバナンス採決が終わると、スラッシュされたDYDXは、被った赤字を緩和するのに必要な資産を担保に、市場で競売される場合があります。

## FAQ

### ステーキング報酬を獲得するにはどうすればよいですか？

ステーカーは、セーフティステーキングプールにいつでもDYDXを入金し、即座に報酬の獲得を開始することができます。DYDXの報酬は、各ステーカーが共有するプール総額に応じて、秒単位で継続的に獲得することができます。報酬の請求および出金はいつでも可能です。

アクティブな資金による報酬は、アクティブでいる期間に対して獲得されるものです。つまり、資金の一部出金をリクエストした後でも、エポックの終了までこれらの資金により引き続き報酬を獲得することになります。これについては、下記の[流動性ステーキングプール](https://docs.dydx.community/dydx-governance/staking-pools/liquidity-staking-pool)の例をご覧ください。

![](../.gitbook/assets/image%20%2865%29.png)

上記のシナリオの場合、ユーザーは**Time0**から**Time2**までの期間で報酬を獲得しますが、ステーキングされた総残高によって変動します。ユーザーが残高の一部を出金リクエストするだけであれば、残りの残高により**Time2**以降も報酬を獲得し続けることができます。

### セーフティプールにDYDXを入金してステーキングするにはどうすればよいですか？

DYDXをセーフティプールにステーキングするには、以下の手順に従います。

* [**dydx.community/dashboard/pools/safety**](https://dydx.community/dashboard/pools/safety)\*\*\*\*にアクセスします
* 「**ステーク**」をクリックします
* 初めて入金する場合は、DYDXを有効にする必要があります。この操作が必要なのは1回だけで、さらにガス手数料も1回だけ発生します。
* プールにステーキングするDYDXの額を入力します。
* 「**資金をステーキング**」をクリックします。資金のステーキングおよびステーキング解除をするには、ガス手数料を支払う必要があります。

ステーキングされた資金がアクティブになり、すぐに報酬の獲得が始まります。

スマートコントラクトで資金を直接入金およびステーキングするには、ユーザーは\`stake\`[関数](https://github.com/dydxprotocol/governance-private/blob/2645927b44f517f51c84e35a00a1ee810300c13f/contracts/liquidity/v1/impl/LS1Staking.sol#L59)を呼び出します。また、\`stakeFor\`[関数](https://github.com/dydxprotocol/governance-private/blob/2645927b44f517f51c84e35a00a1ee810300c13f/contracts/liquidity/v1/impl/LS1Staking.sol#L64)を呼び出して、他のアドレスに代わって入金およびステーキングすることもできます。

### stkDYDXとは何ですか？

プロトコルの安全性に寄与し、インセンティブを受け取るために、DYDX保有者はトークンをセーフティモジュールに預けます。その引き換えに、トークン化されたポジション\(**stkDYDX**\)を受け取り、ERC-20として出金または移動できるようになります。**stkDYDX**トークンは、dYdXガバナンスにおけるDYDXと同様に提案および採決の権限を有しています。

### ブラックアウトウィンドウとは何ですか？

ブラックアウトウィンドウとは、ユーザーが、ステーキングされた資金の出金をリクエストすることができない期間です。出金に関してはエポックのスケジュールに合わせて行われ、これにより、プールの資金の可用性に対応した予測や一定の周期での実施が可能になります。エポックの終了後に資金を出金できるようにするには、ブラックアウトウィンドウの前に資金のステーキング解除をリクエストする必要があります。ステーカーが出金をリクエストしない場合、ステーキングされた資金は次のエポックにロールオーバーされます。

セーフティプールにおけるブラックウィンドウの推奨期間は`14日間`です。

### ステーキングされた残高計算はどのように機能しますか？

ステーキングされた残高は、次の2つのいずれかの状態になっています。

* **アクティブ**：借入可能。ステーキング報酬の獲得あり。ステーカーによる出金不可。
* **非アクティブ**：借入不可。報酬の獲得なし。ステーカーによる出金可能。

ステーカーによっては、アクティブな残高と非アクティブな残高の組み合わさっている場合があります。以下の例に示すように、資金はエポックごとに構成されています。

![](../.gitbook/assets/image%20%2834%29.png)

ステーキングされた残高に関する操作は次のとおりです。

* **デポジット**：アクティブな残高が増えます。
* **出金****リクエスト**：現在のエポックの終了時に、一部資金がアクティブから非アクティブに変更されます。
* **出金**：非アクティブな残高が減ります。
* **移動**：アクティブな資金の一部が別のステーカーに移動されます。

特定のエポックの終了時に残高が変わる予定があることをコードで表すには、各残高をcurrentEpoch、currentEpochBalance、nextEpochBalanceの3フィールド構造で保存します。

### ステーキングプールから資金を出金するにはどうすればよいですか？どのくらいかかりますか？

出金に関してはエポックのスケジュールに合わせて行われ、これにより、プールの資金の可用性に対応した予測や一定の周期での実施が可能になります。ステーカーはエポックの終了後に出金できるように、エポック終了の少なくとも`14日`前までに資金の出金をリクエストする必要があります。ステーカーが出金をリクエストしない場合、ステーキングされたDYDXは次のエポックにロールオーバーされます。

資金を出金するには、ユーザーは、\`requestWithdrawal\`関数を呼び出し、次のエポックでの資金の出金をリクエストをします現在のエポックでは、ユーザーの資金はステーキングされたままとなり、出金できません。次のエポックから資金は「非アクティブ」となり、出金が可能になります。

次のエポックで、ユーザーは\`withdrawStake\`関数を呼び出して、非アクティブな資金を特定のアドレスに出金します。ユーザーは、出金する非アクティブな資金の額を指定するか、\`withdrawMaxStake\`関数を呼び出して、非アクティブな資金をすべて出金することができます。eth\_callで最大値を検索して\`withdrawStake\(\)\`を呼び出すよりも、\`withdrawMaxStake\`関数の方がガス効率が低くなります。

流動性プールからDYDXを出金するには、次の手順に従ってください。

* [**dydx.community/dashboard/pools/safety**](https://dydx.community/dashboard/pools/safety)\*\*\*\*にアクセスします。
* [**リクエスト**]をクリックし、プールからの出金をリクエストするDYDX額を入力します。
* 「**出金のリクエスト**」をクリックします。資金を出金するには、ガス手数料を支払う必要があります。
* ステーカーは、現在のエポックが終了する遅くとも14日前までにDYDXのステーキングを解除すると、次のエポックからDYDXを出金することが可能になります。

### セーフティステーキングプールに対するステーカーのリスクは何ですか？ショートフォールが発生した場合、どうなりますか？

ステーカーがDYDXをセーフティプールにロックしてしまうと、ショートフォール発生のリスクにさらされます。これにより、DYDXガバナンスの判断にてステーキングされたDYDXの資金がスラッシュされることになる可能性があります。

コントラクトの資金は、アクティブまたは非アクティブでもすべて、スラッシュ可能です。コントラクトでは、DYDXとstkDYDX間の為替レートの更新によりスラッシュが実行されます。つまり、スラッシュが起こると、DYDXとstkDYDXの間の為替レートは、1：1の初期値から外れることになります。ステーキング報酬の獲得においては、スラッシュによる影響を受けません。

