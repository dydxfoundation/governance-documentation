---
description: Обзор жизненного цикла предложения по улучшению dYdX (ППУ).

---

# Жизненный цикл предложения

## **Этапы предложения**

Процесс управления dYdX обеспечивается форумами по управлению на веб-сайте [**forums.dydx.community**](https://forums.dydx.community/) и утверждается путем внесения предложений по улучшению dYdX \(далее — «ППУ»\).

Ниже мы приводим предварительный проект, объясняющий, как будет протекать процесс управления dYdX — от зарождения и определения концепции до ее фактической реализации. Эти процессы могут быть изменены согласно комментариям сообщества DYDX.

Предлагаемые начальные этапы принятия предложения отражены на следующей блок-схеме:

![Этапы ППУ](../.gitbook/assets/image%20%2878%29.png)

## 0. Обсуждение на форуме

На форумах управления dYdX по адресу [**forums.dydx.community**](https://forums.dydx.community/) зарегистрироваться и создать ветку на любую тему могут все пользователи. Члены сообщества должны зарегистрироваться, используя адрес электронной почты или кошелек Ethereum.

## 1. Создание ЗК \(офчейн\)

Офчейн-создание **запроса комментариев dYdX** \(далее — «ЗК»\) — это первый шаг в процессе улучшения управления. Участвовать в форуме управления, создавать ЗК вне блокчейна и обсуждать улучшения может любой пользователь.

Чтобы создать ЗК, используйте следующий шаблон, доступный в нашем профиле GitHub.

Как минимум, ЗК должен включать следующее:

* Короткие и точные названия заголовков ЗК
* Короткое и точное описание предложения
* Обоснование для ЗК, например, причина его подачи
* Заголовок публикации на форуме должен включать краткое название ЗК. Например, «ЗК: запрос нового рынка»
* Опрос сообщества, который члены сообщества могут использовать для офчейн-голосования по улучшениям

## 2. Обсуждение ЗК и комментарии

После публикации на форуме управления все вопросы и комментарии должны быть рассмотрены и приняты во внимание для дальнейшего улучшения ЗК.

## 3. Снимок опроса по ЗК

Как только ЗК вне блокчейна достигнет примерного консенсуса, член сообщества, владеющий более чем `10 000` DYDX, может создать **офчейн-голосование** по ЗК с помощью **Snapshot** \([ожидается в ближайшее время](https://snapshot.org/#/dydx/create)\).

Snapshot — это простой интерфейс для голосования, который позволяет пользователям выразить мнение вне блокчейна. Значимость голосов на Snapshot определяется на основе количества DYDX, делегированных на адрес, используемый для голосования.

Пользователь, подающий ЗК, должен будет предоставить подробные сведения о ЗК, систему голосования, дату начала голосования, дату окончания голосования и номер блока Snapshot. Номер блока Snapshot фиксирует состояние членов сообщества, которые могут голосовать. Голосовать могут пользователи, владевшие токенами до фиксации номером блока Snapshot.

Длительность опросов Snapshot должна быть установлена на `5 дней`.

Предложения и голоса — это просто подписанные сообщения, хранящиеся в протоколе IPFS и доступные на портале Commonwealth.

## 4. Создание ППУ \(ончейн\)

Если достигнут примерный консенсус, участник сообщества, обладающий соответствующим правом на внесение данного типа предложений, может внести ППУ в блокчейне. ППУ в блокчейне инициируется вызовом смарт-контракта. Предложение должно быть основано на победном результате офчейн-голосования по ППУ на Snapshot и может состоять из одного или нескольких действий (до десяти).

Для создания ППУ требуется минимальное количество находящихся во владении/делегированных токенов на учетной записи. При создании предложения необходимо указать исполнителя с правом на блокировку по времени. Ниже приведены исходные параметры \(управление может менять их\):

| Параметр | Описание | Исполнитель с правом на короткую блокировку по времени | Исполнитель с правом на остановку дерева Меркла | Исполнитель с правом на длительную блокировку по времени | Исполнитель Starkware |
| :--- | :--- | :--- | :--- | :--- | :--- |
| Пороговое число токенов | Минимальное количество находящихся во владении/делегированных токенов, необходимое для создания предложения | 0,5% от общего доступного количества | 0,5% от общего доступного количества | 2% от общего доступного количества | 0,5% от общего доступного количества |

## 5. Голосование по ППУ \(ончейн\).

После создания ППУ в блокчейне предложение переходит в состояние `ожидания` на период, определяемый **задержкой голосования**, которая в настоящий момент составляет `6570` блоков или приблизительно 1 день \(из расчета 13 секунд на блок\). Другими словами, снимки пользователей фиксируются через 1 день после создания ППУ. В этот момент предложение переходит в `активное` состояние.

После задержки голосования активируется период голосования. Продолжительность периода голосования зависит от типа предложения.

Блок-схема состояний ППУ показана ниже:

![Жизненный цикл ППУ](../.gitbook/assets/image%20%2850%29.png)

После создания ППУ в блокчейне начинаются **задержка голосования** и **период голосования**, а для него должны быть достигнуты **минимальный кворум** и минимальная **разница в количестве голосов**. Ниже приведены исходные параметры \(управление может менять их\):

| Параметр | Описание | Исполнитель с правом на короткую блокировку по времени | Исполнитель с правом на остановку дерева Меркла | Исполнитель с правом на длительную блокировку по времени | Исполнитель Starkware |
| :--- | :--- | :--- | :--- | :--- | :--- |
| Задержка голосования | Количество блоков Ethereum, которое нужно создать до начала голосования по предложению после его внесения | 6570 блоков | 6570 блоков | 6570 блоков | 6570 блоков |
| Период голосования | Время, в течение которого можно голосовать по предложениям | 4 дня | 2 дня | 10 дней | 4 дня |
| Минимальный кворум | Минимальное количество голосов за ППУ для его принятия | 2% от общего доступного количества | 1% от общего доступного количества | 10% от общего доступного количества | 2% от общего доступного количества |
| Разница в количестве голосов | Разрыв в количестве голосов «за/против», требуемый для принятия ППУ | 0,5% от общего доступного количества | 0,5% от общего доступного количества | 10% от общего доступного количества | 0,5% от общего доступного количества |

## 6. Постановка в очередь и исполнение предложений

После принятия ППУ любой адрес может вызвать метод помещения в очередь, чтобы поставить предложение в очередь блокировки по времени. В очередь можно помещать только принятые ППУ.

| Параметр | Описание | Исполнитель с правом на короткую блокировку по времени | Исполнитель с правом на остановку дерева Меркла | Исполнитель с правом на длительную блокировку по времени | Исполнитель Starkware |
| :--- | :--- | :--- | :--- | :--- | :--- |
| Задержка блокировки по времени | Задержка после принятия и размещения предложения в очереди и перед его выполнением | 2 дня | 0 дней | 7 дней | 2–9 дней |
| Период исполнения | Период, когда предложение становится выполнимым и в течение которого должно быть исполнено. | 7 дней | 7 дней | 7 дней | 7 дней |
| Минимальная задержка блокировки по времени | Минимальная задержка перед исполнением предложения \(после его размещения в очереди\) | 1 день | 0 дней | 5 дней | 4 дня |
| Максимальная задержка блокировки по времени | Максимальная задержка перед исполнением предложения \(после его размещения в очереди\) | 7 дней | 1 день | 21 день | 21 день |

Исполнитель Starkware имеет окно приоритета в 7 дней из 9. Так, в параметрах развертывания мы указываем 9, но на практике это означает 2–9 дней в зависимости от контролера приоритета \(Starkware\). Не совсем понятно, как отразить это в документах. 6ч

Как только период голосования завершается и предложение принимается, любой желающий может вызвать функцию размещения в очереди, чтобы начать отсчет. Как и в случае с другими блокировками, процесс длится 9 дней за исключением того, что через 2 дня Starkware может ускорить его.

На практике это выглядит следующим образом:

* Дни 0–2: исполнить предложение не может никто
* Дни 2–9: исполнить предложение может только Starkware
* День 9: исполнить предложение может любой пользователь

## 7. Отмена предложения \(необязательно\)

Автор предложения может отменить ППУ в любой момент его жизненного цикла. Будет представлено новое ППУ с аналогичным жизненным циклом.



## Часто задаваемые вопросы

### Зачем нужна задержка голосования?

**Задержка голосования** — это количество блоков Ethereum, которое нужно создать после внесения предложения и до появления возможности проголосовать по нему.

Право голоса DYDX должно быть полностью передано на адрес либо до подачи предложения, либо во время **задержки голосования** по предложению.

На данный момент **задержка голосования** составляет `6570 блоков`, то есть примерно 1 день. Это значение добавляется к номеру текущего блока при создании предложения.

В будущем управление dYdX может проголосовать за увеличение или сокращение продолжительности **задержки голосования**. Увеличение **задержки голосования** имеет очевидные преимущества. Однако это может привести к некоторым потенциально негативным последствиям, таким как успешная эксплуатация пограничных случаев.

### Зачем нужно пороговое число токенов?

Поскольку токен DYDX — это свободно торгуемый актив, любой может попытаться захватить управление через его скупку на рынке. При этом для принудительного пропуска недобросовестного голоса потребуется минимум 5 и 20 миллионов DYDX в случае короткой и длительной блокировки по времени соответственно. Хотя возможность владения таким количеством токенов не исключается, оно слишком большое, и вполне вероятно, что атака принесет больший убыток нежели выгоду с учетом колебания цен.

Если группа каким-то образом добьется недобросовестного захвата, задержка блокировки по времени даст пострадавшим агентам время вывести свои активы из протокола. Это также позволит создать форк протокола, который, скорее всего, выберут оставшиеся добросовестные участники.

###

