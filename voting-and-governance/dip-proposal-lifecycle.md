---
description: dYdX改进提议(DIP)生命周期概述。
---

# 提议生命周期

## **提议阶段**

dYdX治理进程由[**forums.dydx.community**](https://forums.dydx.community)的治理论坛推动，并通过dYdX改进提议(“DIP”)予以批准。

下面，我们概述了一份初稿，解释dYdX治理进程从概念的开始和定义到实际执行的过程。这些流程将根据DYDX社区的反馈意见进行变更。

以下流程图是通过提议的最初建议阶段：

![Stages of a DIP](<../.gitbook/assets/image (81).png>)

## 0. 论坛讨论

任何人都可以在[**forums.dydx.community**](https://forums.dydx.community)上的dYdX治理论坛上注册并设置任何主题帖。社区成员必须使用电子邮件地址或以太坊钱包进行注册。

## 1.（链下）DRC创建

链下 **dYdX征求意见**(DRC)的创建是治理改进过程的第一步。任何人都可以参加治理论坛，创建链下的DRC，并讨论改进。

如果要创建DRC，请使用[此模板](https://github.com/dydxfoundation/dip/blob/master/DIP-X.md)（在我们的Github上提供）。DRC应涵盖可能的最终DIP的所有信息。

DRC至少必须包括：

* DRC的简短标题
* 简明扼要的提议描述
* DRC的理由，例如为什么？
* 论坛帖子的标题必须包括DRC：以及DRC的简称。例如，DRC：新交易对请求
* 社区成员可以使用的社区投票，对链下的改进进行投票

## 2. DRC讨论和反馈

一旦在治理论坛上发布，所有问题和评论都应得到解决和考虑，以进一步改进DRC。

## 3. DRC快照投票

快照投票有两个用途：未来链上DIP的情绪信号和链下控制变量的具有约束力的投票。

一旦链下的DRC达成了非常粗略的共识，持有超过`10,000`个DYDX的社区成员可以在**快照**上为DRC创建**链下投票**。我们鼓励dYdX社区在每周一创建快照投票，以提高常规工作周的可见性。

快照是一个简单的投票界面，允许用户在链下表达意见。快照上的票数由用于投票的地址的投票权加权。

对于与情绪信号相关的快照投票，提议人需要提供：

* DRC的详情，
* 投票系统，
* 投票期 - 从投票开始日期到投票结束日期设置为4天投票期，以及
* 投票延迟 - 未来6570个区块（约1天）的快照区块编号。快照区块编号锁定了可以投票的社区成员的状况。在快照区块编号前，持有代币的代币持有者有资格投票。在每个地址各自投票权的快照之前，投票延迟使DYDX/stkDYDY持有者有时间获取代币、委托投票权以及在钱包之间转移代币（钱包之间转移代币仅适用于DYDX持有者）。

对于不需要链上智能合约启动的决策，特别是对交易和流动性提供方奖励公式的更改，快照投票被视为具有约束力的最终投票。提议人将需要包括上述要求并提供：

* 二元投票选项 - 为清楚起见，一个地址要么投票赞成要么投票反对提议。

如果快照投票的结果满足以下要求，则提议的更改将由dYdX Trading Inc.实施：

* 最低通过票数 - 至少一百万 DYDX/stkDYDX。最低通过票数有助于决策去中心化并防止单方面决策，以及
* 最低投票差值 - 必须有至少67%的票数支持该提议。最小投票差值有助于过滤掉高度争议且需要进一步讨论的提议。

dYdX Trading Inc.将最多有1个时段（28天），即执行宽限期，来实施快照投票通过的更改。

请注意，提议和投票刚刚签字，存储在IPFS上，并可通过Commonwealth门户网站查阅。

## 4.（链上）DIP创建

一旦达成粗略共识，则可以由对提议类型拥有足够的提议权力的社区成员提交链上DIP。链上DIP是通过智能合约启动的。提议应基于链下DIP在快照上投票的胜利结果，可以由一个或多个操作组成，每个提议最多可有10个操作。

DIP创建受限于账户所需持有/委托的最少代币数量。在创建提议时，必须指定时间锁执行器。初始参数如下（并可以通过治理进行修改）：

| 参数 | 说明 | 短时间锁执行器 | Merkle-Pauser执行器 | 长时间锁执行器 | Starkware执行器 |
| ------------------ | ------------------------------------------------ | ----------------------- | ---------------------- | ---------------------- | -------------------- |
| 提议阈值 | 持有/委托以创建提议的最少代币数量 | 总供应量的0.5% | 总供应量的0.5% | 总供应量的2% | 总供应量的0.5% |

## 5.（链上）DIP投票

创建链上DIP后，提议进入`待决`状态，期限由**投票延迟时间**来确定，延迟时间目前被配置为`6570`个区块或大约1天（假设每个区块13秒钟）。换句话说，用户快照会在DIP创建1天后被记录下来，这时提议会过渡到`活跃`状态。

投票延迟后，投票期开始激活。投票期的长短取决于提议类型。

下图显示了DIP状态流程图：

![Lifecycle of a DIP](<../.gitbook/assets/image (63).png>)

在链上创建DIP后，会受到以下因素的限制：**投票延迟**、**投票期**、**最低法定人数和**最低投票差额****。初始参数如下：

| 参数 | 说明 | 短时间锁执行器 | Merkle-Pauser执行器 | 长时间锁执行器 | Starkware执行器 |
| ----------------- | ----------------------------------------------------------------------------------------------------- | ----------------------- | ---------------------- | ---------------------- | -------------------- |
| 投票延迟 | 提议提交后，在对一个可能开始的提议进行投票前，需要等待的以太坊区块数量 | 6,570个区块 | 6,570个区块 | 6,570个区块 | 6,570个区块 |
| 投票期 | 可以对提议进行投票的时间长度 | 4天 | 2天 | 10天 | 4天 |
| 最低法定人数 | 通过DIP提议的最低赞成票数 | 总供应量的2% | 总供应量的1% | 总供应量的10% | 总供应量的2% |
| 投票差值 | 通过DIP提议所需的赞成票和否决票差额 | 总供应量的0.5% | 总供应量的0.5% | 总供应量的10% | 总供应量的0.5% |

只有投票延迟可以通过治理修改，它只能更改为最小和最大延迟之间的的值（包括临界值）。投票期、最低法定人数和投票差异无法更改。

## 6. 提议排队与执行

在DIP通过后，任何地址都可以调用排队方法将提议移至时间锁队列。只有当DIP通过时才可以排队。

| 参数 | 说明 | 短时间锁执行器 | Merkle-Pauser执行器 | 长时间锁执行器 | Starkware执行器 |
| ---------------------- | ------------------------------------------------------------------------------------- | ----------------------- | ---------------------- | ---------------------- | ------------------ |
| 时间锁延迟 | 在提议通过并排队后，执行提议前的延迟 | 2天 | 0天 | 7天 | 2-9天 |
| 执行宽限期 | 在提议可执行的时机来临过后，必须执行该提议。 | 7天 | 7天 | 7天 | 7天 |
| 时间锁最小延迟 | 执行提议前的最小延迟时间（排队后） | 1天 | 0天 | 5天 | 4天 |
| 时间锁最大延迟 | 执行提议前的最大延迟（排队后） | 7天 | 1天 | 21天 | 21天 |

一旦投票期结束，提议获得通过，任何人都可以调用排队以启动时间锁延迟。

对于Starkware优先时间锁执行器，在9天时间锁延迟中，它有7天的优先期。这意味着在9天后，任何人都可以执行提议，但在2-9天内（优先期），Starkware可以选择执行提议。

在实际方面，其内容是：

* 0-2天：任何人都不能执行
* 2-9天：只有Starkware才能执行
* 9天：任何人都可以执行

## 7.（备选方案）提议取消

在DIP生命周期的任何时候，提议人都可以取消DIP。如果提议者在当前区块没有足够的提议权，则任何人都可以在执行之前取消提议。



## 常见问题解答

### 投票延迟的目的是什么？

投票**延迟**是指在提议提交后，在开始对提议进行投票前，需要等待的以太坊区块的数量。

必须将DYDX投票权完全委托给一个地址，要么在提议提交前，要么在提议的**投票延迟**期间。

目前，**投票延迟**将设定为`6,570个区块`，大约为1天。在创建提议时，该值将添加到当前区块编号中。

在未来，dYdX治理可能会投票增加或减少**投票延迟**。尽管**投票延迟**有着明显的好处。它可能会带来一些潜在的不利后果，如机会主义边缘案例剥削。

### 提议阈值的目的是什么？

由于DYDX是一种可以自由交易的资产，任何人都可以通过交易对购买尝试进行治理接管。也就是说，要强制通过恶意投票，在短时间锁定的情况下至少需要500万个DYDX，在长时间锁定的情况下至少需要2,000万个DYDX。如果不是完全不可能，这一数额将昂贵得令人望而却步，当考虑到价格波动时，其成本可能超过从攻击中获得的净收益。

如果一个团体以某种方式实现了恶意接管，时间锁的延迟将使受影响的代理人有时间从协议中撤资。这也将是一个分叉协议的机会，剩余的诚信行为方可能会采用这一途径。

###
