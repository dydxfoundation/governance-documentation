---
description: 治理架构的高级概述。
---

# 架构

## 概述

DYDX赋予持有人提议和投票修改协议的权利。DYDX治理以AAVE治理合约为基础，并支持基于DYDX代币持有量进行投票。

提议必须根据其类型达到特定阈值和赞成票比例。

这些DYDX代币可以用来提出建议或对治理提议进行投票，也可以委托给其他以太坊地址。

dYdX治理的核心是6个智能合约：

* **`DYDX代币`合约**：在不同时间区块拥有每个地址的投票权的快照。
* **`治理战略`合约**：包含衡量用户提议和投票的相对权力的逻辑。
* **`保险模块`合约：**包含质押DYDX代币、标记位置并获得奖励的逻辑。代币质押的保险模块保留全部治理权。
* **`治理者`合约**：跟踪提议，并可以通过时间锁智能合约来执行提议。
* **`时间锁`合约：**可以排队、取消或执行治理者投票的交易。提议中的功能是由时间锁合约启动的。排队的交易可以在延迟之后和宽限期届满之前执行。
* 优先时间锁合约**`：`**与时间锁合约相同，但允许优先级控制器在时间锁延迟之前，在**优先期**（7天）内执行交易。

![Smart contract architecture](<../.gitbook/assets/image (49).png>)

dYdX链上治理允许：

* 对“授权的执行者合约”将要执行的提议进行投票
* 在提议开始时，对代币持有量进行快照
* 分别委托投票权和提议权
* 设置治理门槛，包括提议、法定人数和投票差额
* 更改计票方式（通过改变治理者合约上的“治理策略”智能合约地址）

## 提议类型

有四种类型的提议，它们具有不同的参数，影响着提议的长度和执行情况，即影响治理共识的关键提议要求更多的投票时间和更大的投票差额，而仅影响协议参数的提议要求更少的投票时间，并可以迅速执行。执行器必须验证每种类型的提议。

#### **短时间锁执行器**

短时间锁定执行器控制以下内容：

* 激励合约，其中包括流动性模块、保险模块和Merkle分销商模块。
* 奖励和社区资金库的资金
* 铸造新代币
* 除保险模块外的所有代理合约
* 严格代理合约中的监护人角色

**Starkware优先时间锁定执行器**

Starkware优先时间锁执行器拥有StarkEx永续交易所合约。它可以执行控制了dYdX Layer 2交易所配置的提议。

根据要采取的操作，Starkware团队可能需要参与进来，以便正确地在交易所实施变更。出于这个原因，该执行器获得了“优先权控制器”的角色，它为Starkware提供了7天的时间**（优先期）**，在这个时间里，只有他们才有能力触发提议的执行。

Starkware无法控制_哪些_协议被更改。只有DYDX代币持有人通过dYdX治理，才有能力批准或否认对交易所协议的更改。

#### **长时间锁执行器**

长时间锁执行器可以执行提议，这些提议通常会改变影响治理共识的那部分协议。

#### **Merkle-pauser执行器**

Merkle-pauser执行器可以执行冻结Merkle根的提议，Merkle根会根据每个用户的累计奖励余额定期更新，以便在建议的根不正确或具有恶意的情况下，可以随着时间的推移向用户分配新的奖励。它还可以否决任何严格的代理合约的强制交易请求。

初始时间锁参数如下：

![Initial timelock parameters](<../.gitbook/assets/Initial Timelock Parameters.png>)

