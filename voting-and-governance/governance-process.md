---
description: 治理架构的高级概述。
---

# 架构

## 概述

$ethDYDX、$stkDYDX、$wethDYDX（“治理代币”）授予持有人对 dYdX v3 做出更改的提议权和投票权。dYdX 治理基于 AAVE 治理合约，支持根据治理代币的持有量来投票。

提议必须根据其类型达到特定阈值和赞成票比例。

治理代币的投票权和提议权使治理代币持有人能够提出提案并对治理提案进行投票。 注意，治理代币持有人可以将此类权限委托给其他以太坊地址。

dYdX 治理的核心是 8 个智能合约：

* **`$ethDYDX、$stkDYDX、$wethDYDX 代币`合约**：在不同时间区块拥有每个地址的投票权快照。
* **`治理策略 V2` 合约**：包含衡量用户提议和投票相对权的逻辑。dYdX 社区[已投票](https://dydx.community/dashboard/proposal/15)将`治理策略`合约升级为`治理策略 V2`，以赋予 $wethDYDX 与 ethDYDX 相同的治理功能，用于在 dYdX v3 治理中的投票和提议。
* **`保险模块`合约**：包含质押 $ethDYDX 代币、标记位置、获得奖励的逻辑。代币质押的保险模块保留全部治理权。
* **`治理者`合约**：跟踪提议，并可以通过时间锁智能合约来执行提议。
* **`时间锁`合约：**可以排队、取消或执行治理者投票的交易。提议中的功能是由时间锁合约启动的。排队的交易可以在延迟之后和宽限期届满之前执行。
* **`优先时间锁`合约**：与时间锁合约相同，但允许优先级控制器在时间锁延迟结束之前的**优先期**（7 天）内执行交易。

![智能合约架构](../.gitbook/assets/1-smart-contract-architectue.png)

dYdX链上治理允许：

* 对“授权的执行者合约”将要执行的提议进行投票
* 在提议开始时，对代币持有量进行快照
* 分别委托投票权和提议权
* 设置治理门槛，包括提议、法定人数和投票差额
* 更改计票方式（通过改变治理者合约上的“治理策略”智能合约地址）

## 提议类型

有四种类型的提议，它们具有不同的参数，影响着提议的长度和执行情况，即影响治理共识的关键提议要求更多的投票时间和更大的投票差额，而仅影响协议参数的提议要求更少的投票时间，并可以迅速执行。执行器必须验证每种类型的提议。

#### **短时间锁执行器**

短时间锁定执行器控制以下内容：

* 激励合约，其中包括流动性模块、保险模块和Merkle分销商模块。
* 奖励和社区资金库的资金
* 铸造新代币
* 除保险模块外的所有代理合约
* 严格代理合约中的监护人角色

**Starkware优先时间锁定执行器**

Starkware优先时间锁执行器拥有StarkEx永续交易所合约。它可以执行提议，控制 dYdXv3 的配置。

根据要采取的操作，Starkware团队可能需要参与进来，以便正确地在交易所实施变更。出于这个原因，该执行器获得了“优先权控制器”的角色，它为Starkware提供了7天的时间（**优先期**），在这个时间里，只有他们才有能力触发提议的执行。

Starkware无法控制_哪些_协议被更改。只有 $ethDYDX 和 $wethDYDX 代币持有人通过 dYdX v3 治理，才能批准或拒绝对交易所协议的更改。

#### **长时间锁执行器**

长时间锁执行器可以执行提议，这些提议通常会对影响治理共识的 dYdX v3 的一些部分做出更改。

#### **Merkle-pauser执行器**

Merkle-pauser执行器可以执行冻结Merkle根的提议，Merkle根会根据每个用户的累计奖励余额定期更新，以便在建议的根不正确或具有恶意的情况下，可以随着时间的推移向用户分配新的奖励。它还可以否决任何严格的代理合约的强制交易请求。

初始时间锁参数如下：

![初始时间锁参数](../.gitbook/assets/1-initial-timelock-parameters.png)
